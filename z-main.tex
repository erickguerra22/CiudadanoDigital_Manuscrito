% Se pre-carga la información del estudiante sólo para poder emplear el macro de
% selección de versión (digital o impresa)
\input{0-datos_estudiante}

\ifdefined\printver
    \documentclass[11pt, letterpaper, twoside, openright]{report}
\else
    \documentclass[11pt, letterpaper]{report}
\fi

% Eliminar la opción de twoside y openright si se desea generar la versión
% digital del documento en lugar de la versión impresa
%\documentclass[11pt, letterpaper, twoside, openright]{report}
\usepackage[spanish, es-nodecimaldot, es-noquoting]{babel}
% cambiar a spanish, mexico si se quiere emplear tabla en lugar de cuadro
\selectlanguage{spanish}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Utilizar pseudocódigo
\usepackage{algorithm}
\usepackage{algpseudocode}
\floatname{algorithm}{Algoritmo}

% ======= TRADUCCIÓN DE PROCEDURE / ENDPROCEDURE =======
% Crear textos para Procedure y EndProcedure (NO existen por defecto)
% \algnewcommand\algorithmicprocedure{\textbf{Procedimiento}}
\algrenewcommand\algorithmicprocedure{\textbf{Procedimiento}}
\algnewcommand\algorithmicendprocedure{\textbf{Fin del procedimiento}}

% Crear los entornos Procedure y EndProcedure
\algdef{SE}[PROCEDURE]{Procedure}{EndProcedure}%
  {\algorithmicprocedure\ }{\algorithmicendprocedure}

  % ===== TRADUCCIÓN DE PALABRAS RESERVADAS GENERALES =====
\algnewcommand\algorithmicelseif{\textbf{Sino si}}

\algnewcommand\algorithmicendwhile{\textbf{FinMientras}}

\algrenewcommand\algorithmicrepeat{\textbf{Repetir}}
\algrenewcommand\algorithmicuntil{\textbf{Hasta que}}
\algrenewcommand\algorithmicrequire{\textbf{Requiere:}}
\algrenewcommand\algorithmicensure{\textbf{Asegura:}}

\algrenewcommand\algorithmicif{\textbf{Si}}
\algrenewcommand\algorithmicthen{\textbf{entonces}}
\algrenewcommand\algorithmicelse{\textbf{Sino}}

\algrenewcommand\algorithmicfor{\textbf{Para}}
\algrenewcommand\algorithmicforall{\textbf{Para cada}}

\algrenewcommand\algorithmicwhile{\textbf{Mientras}}
\algrenewcommand\algorithmicreturn{\textbf{Retornar}}

% Traducciones especiales
\algrenewtext{EndIf}{\textbf{Fin Si}}
\algrenewtext{EndFor}{\textbf{Fin Para}}

\makeatletter
\algrenewcommand\algorithmicdo{\textbf{hacer}} % por si se usa en línea
\algrenewtext{Do}{\textbf{hacer}} % por si se usa como palabra independiente

\title{Plantilla para Trabajos de Graduación IE-MT 2019v3}
\author{MSc. Miguel Zea}
\date{\today}

% Información del estudiante en el archivo datos_estudiante.tex
\input{0-datos_estudiante}
\input{1-opciones_adicionales}

% ==============================================================================
% DEFINICIÓN DE PAQUETES
% ==============================================================================
\usepackage{xcolor}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{xfrac}
\usepackage{float}
\usepackage{mathtools}
\usepackage[hypertexnames=false]{hyperref}
% \usepackage{bookmark}
\usepackage[font=small]{caption}
\usepackage{subcaption}
%\usepackage{csquotes}
\usepackage{xpatch}
\usepackage{emptypage}
\usepackage{hyphenat}
\usepackage{fancyhdr}
\ifdefined\usarAPA
  \usepackage[backend=biber, style=apa]{biblatex}
\else
  \usepackage[backend=biber, style=ieee, sorting=none, citestyle=numeric-comp]{biblatex}
\fi
\addbibresource{q-bibliografia.bib}

\usepackage[percent]{overpic}

\usepackage{chngcntr}

%\usepackage[toc]{glossaries}
\usepackage[numberedsection]{glossaries}
\makeglossaries

% \ifdefined\CAPglosario
%     \input{e-glosario}
% \fi

% ==============================================================================
% MÁRGENES Y FORMATO GENERALES
% ==============================================================================
\usepackage[top=1in, left=1.5in, right=1in, bottom=1in]{geometry}
%Options: Sonny, Lenny, Glenn, Conny, Rejne, Bjarne, Bjornstrup
\usepackage[Sonny]{fncychap}

% ==============================================================================
% DEFINICIONES DE LA PLANTILLA
% ==============================================================================
\graphicspath{ {figuras/} }
\definecolor{uvg-green}{RGB}{17,71,52}
\newcommand{\defaultparformat}[1]{
	{\setlength{\parskip}{2ex}
     \input{#1}}
}
\ifdefined\capsecuvg
	\renewcommand\thechapter{\Roman{chapter}}
    \renewcommand\thesection{\Alph{section}}
	\renewcommand\thesubsection{\arabic{subsection}}
    \renewcommand\thesubsubsection{\alph{subsubection}}
\fi
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}
\counterwithout{equation}{chapter}

\newcommand{\blankpage}{
\newpage
\thispagestyle{empty}
\mbox{}
\newpage
}
% ==============================================================================

% Comandos definidos por el usuario en el archivo comandos_usuario.tex
\input{2-paquetes_y_comandos_usuario}

% ==============================================================================
% CUERPO DEL TRABAJO
% ==============================================================================
\pagestyle{headings}
\begin{document}
\ifdefined\CAPglosario
    \input{e-glosario}
\fi

% ==============================================================================
% PORTADA
% ==============================================================================
\ifdefined\printver
	\let\CAPportada\undefined
\fi

\ifdefined\CAPportada
	\cleardoublepage\phantomsection
	% \pdfbookmark{Portada}{toc}
	\newgeometry{left=3cm, bottom=0in, top=1in, right=3cm}
	\pagecolor{uvg-green}
	\thispagestyle{empty}

	\color{white}
	\noindent \hrulefill \par
	\vspace{0.1in}
	\noindent \Huge \nohyphens{\titulotesis} \par
	\noindent \hrulefill \par
	\noindent
	\LARGE \nombreestudiante

	\begin{figure}[b!]
		%\makebox[\textwidth]{\includegraphics[height=13.25cm]{plantilla/portadacit.jpg}}
		\makebox[\textwidth]{
			\begin{overpic}[height=13.25cm]{\imagenportada}
				\put(63,0){\includegraphics[height=1.15in]{plantilla/fondologo_grande.png}}
				\put(64.5,2){\includegraphics[height=0.55in]{plantilla/logoUVGblanco.eps}}
			\end{overpic}
		}
		%\includegraphics[height=13.25cm]{plantilla/portadacit.jpg}
	\end{figure}
	\restoregeometry
\fi

% ==============================================================================
% PRIMERAS PÁGINAS (Carátulas más hojas de guarda)
% ==============================================================================
\ifdefined\CAPcaratula
	\newpage
	\cleardoublepage\phantomsection
	% \pdfbookmark{Carátula}{toc}
	\pagecolor{white}
	\color{black}
	\setcounter{page}{1}
	\pagenumbering{roman}
	\thispagestyle{empty}
	\begin{center}
		\LARGE UNIVERSIDAD DEL VALLE DE GUATEMALA\\
		\LARGE Facultad de \uvgfacultad \\[0.75cm]
	\end{center}
	\begin{figure}[h]
		\begin{center}
			\includegraphics[height=5.5 cm]{plantilla/escudoUVGnegro.eps}
			\vspace{0.5in}
		\end{center}
	\end{figure}
	\begin{center}
		\Large \textbf{\nohyphens{\titulotesis}} \\
		%\LARGE \textbf{\titulotesis} \\
		\vfill
		\Large \nohyphens{Trabajo de graduación presentado por \nombreestudiante \ para optar al grado académico de Licenciado en \uvgcarrera} \\
		\vfill
		\large Guatemala, \\
		\vspace{1em}
		\anoentrega
	\end{center}

	\ifdefined\printver
		\blankpage
		\blankpage

		\newpage
		\cleardoublepage\phantomsection
		\pagecolor{white}
		\color{black}
		\setcounter{page}{1}
		\pagenumbering{roman}
		\thispagestyle{empty}
		\begin{center}
			\LARGE UNIVERSIDAD DEL VALLE DE GUATEMALA\\
			\LARGE Facultad de \uvgfacultad \\[0.75cm]
		\end{center}
		\begin{figure}[h]
			\begin{center}
				\includegraphics[height=5.5 cm]{plantilla/escudoUVGnegro.eps}
				\vspace{0.5in}
			\end{center}
		\end{figure}
		\begin{center}
			\Large \textbf{\nohyphens{\titulotesis}} \\
			%\LARGE \textbf{\titulotesis} \\
			\vfill
			\Large \nohyphens{Trabajo de graduación presentado por \nombreestudiante \ para optar al grado académico de Licenciado en \uvgcarrera} \\
			\vfill
			\large Guatemala, \\
			\vspace{1em}
			\anoentrega
		\end{center}
	\fi
\fi

% ==============================================================================
% HOJA DE FIRMAS
% ==============================================================================
\ifdefined\CAPfirmas
	\newpage
	\cleardoublepage\phantomsection
	\thispagestyle{empty}
	\vspace*{0.5in}
	\large Vo.Bo.:\\[1cm]
	\begin{center}
		(f) \rule[1pt]{4 in}{1pt}\\
		\nombreasesor
	\end{center}
	\vspace{1in}

	Tribunal Examinador:\\[1cm]
	\begin{center}
		(f) \rule[1pt]{4 in}{1pt}\\
		\nombreasesor \\[1in]
		(f) \rule[1pt]{4 in}{1pt}\\
		\nombreprimerex \\[1in]
		% (f) \rule[1pt]{4 in}{1pt}\\
		% \nombresegundoex
	\end{center}
	\vspace{1in}

	% Fecha de aprobación: Guatemala, \rule[1pt]{0.5 in}{1pt} de \rule[1pt]{1
	% 	in}{1pt} de \anoaprobacion. \normalsize \fi
	Fecha de aprobación: Guatemala, noviembre de \anoaprobacion. \normalsize \fi

% Comentar para formato estilo libro en la numeración de páginas (NO 
% compatible con la guía UVG 2019)
\pagestyle{plain}
% ==============================================================================
% CONTENIDO DEL TRABAJO
% ==============================================================================
% DEDICATORIA
% ------------------------------------------------------------------------------
\ifdefined\CAPdedicatoria
	\newpage
	\cleardoublepage\phantomsection
	\chapter*{Dedicatoria}
	\ifdefined\parpordefecto
		\defaultparformat{a-dedicatoria}
	\else
		\input{a-dedicatoria}
	\fi
	\addcontentsline{toc}{chapter}{Dedicatoria}
\fi
% PREFACIO
% ------------------------------------------------------------------------------
\ifdefined\CAPprefacio
	\newpage
	\cleardoublepage\phantomsection
	\chapter*{Prefacio}
	\ifdefined\parpordefecto
		\defaultparformat{b-prefacio}
	\else
		\input{b-prefacio}
	\fi
	\addcontentsline{toc}{chapter}{Prefacio}
\fi

% RESUMEN
% ------------------------------------------------------------------------------
\ifdefined\CAPresumen
	\newpage
	\cleardoublepage\phantomsection
	\chapter*{Resumen}
	\ifdefined\parpordefecto
		\defaultparformat{c-resumen}
	\else
		\input{c-resumen}
	\fi
	\addcontentsline{toc}{chapter}{Resumen}
\fi

% ABSTRACT
% ------------------------------------------------------------------------------
\ifdefined\CAPabstract
	\newpage
	\cleardoublepage\phantomsection
	\chapter*{Abstract}
	\ifdefined\parpordefecto
		\defaultparformat{d-abstract}
	\else
		\input{d-abstract}
	\fi
	\addcontentsline{toc}{chapter}{Abstract}
\fi

% ÍNDICE GENERAL
% ------------------------------------------------------------------------------
\ifdefined\CAPindice
	\newpage
	\cleardoublepage\phantomsection
	\renewcommand{\contentsname}{Índice}
	%\phantomsection
	\pdfbookmark{\contentsname}{toc}
	%\pdfbookmark{Índice}{toc}
	\tableofcontents
\fi

% LISTADO DE CUADROS
% ------------------------------------------------------------------------------
\ifdefined\CAPcuadros
	\newpage
	\cleardoublepage\phantomsection
	\renewcommand{\listtablename}{Lista de cuadros}
	\listoftables
	\addcontentsline{toc}{chapter}{Lista de cuadros}
\fi

% LISTADO DE ALGORITMOS
% ------------------------------------------------------------------------------
\ifdefined\CAPalgoritmos
	\newpage
	\cleardoublepage\phantomsection
	\renewcommand{\listalgorithmname}{Lista de algoritmos} % nombre que aparece en el índice
	\listofalgorithms
	\addcontentsline{toc}{chapter}{Lista de algoritmos}
\fi

% LISTADO DE FIGURAS
% ------------------------------------------------------------------------------
\ifdefined\CAPfiguras
	\newpage
	\cleardoublepage\phantomsection
	\renewcommand{\listfigurename}{Lista de figuras}
	\listoffigures
	\addcontentsline{toc}{chapter}{Lista de figuras}
\fi

% GLOSARIO
% ------------------------------------------------------------------------------
\ifdefined\CAPglosario
	\glsaddall
	\newpage
	\printglossary[title=Abreviaturas,toctitle=Abreviaturas]
\fi

% ALCANCE
% ------------------------------------------------------------------------------
\ifdefined\CAPalcance
	\newpage
	\chapter{Alcances}
	\ifdefined\parpordefecto
		\defaultparformat{j-alcance}
	\else
		\input{j-alcance}
	\fi
\fi

% INTRODUCCIÓN
% ------------------------------------------------------------------------------
\ifdefined\CAPintroduccion
	\newpage
	\cleardoublepage
	\pagenumbering{arabic}
	\setcounter{page}{1}
	\chapter{Introducción}
	\ifdefined\parpordefecto
		\defaultparformat{f-introduccion}
	\else
		\input{f-introduccion}
	\fi
\fi

% JUSTIFICACIÓN
% ------------------------------------------------------------------------------
\ifdefined\CAPjustificacion
	\newpage
	\chapter{Justificación}
	\ifdefined\parpordefecto
		\defaultparformat{g-justificacion}
	\else
		\input{g-justificacion}
	\fi
\fi

% ANTECEDENTES
% ------------------------------------------------------------------------------
\ifdefined\CAPantecedentes
	\newpage
	\chapter{Antecedentes}
	\ifdefined\parpordefecto
		\defaultparformat{h-antecedentes}
	\else
		\input{h-antecedentes}
	\fi
\fi

% OBJETIVOS
% ------------------------------------------------------------------------------
\ifdefined\CAPobjetivos
	\newpage
	\chapter{Objetivos}
	\ifdefined\parpordefecto
		\defaultparformat{i-objetivos}
	\else
		\input{i-objetivos}
	\fi
\fi

% MARCO TEÓRICO
% ------------------------------------------------------------------------------
\ifdefined\CAPmarcoteorico
	\newpage
	\chapter{Marco teórico}
	\ifdefined\parpordefecto
		\defaultparformat{k-marco_teorico}
	\else
		\input{k-marco_teorico}
	\fi
\fi

% METODOLOGÍA
% ------------------------------------------------------------------------------
\ifdefined\CAPmetodologia
	\newpage
	\chapter{Metodología}
	\ifdefined\parpordefecto
		\defaultparformat{l-metodologia}
	\else
		\input{l-metodologia}
	\fi
\fi

% CAPÍTULOS
% ------------------------------------------------------------------------------
% \newpage
% \ifdefined\parpordefecto
% 	\defaultparformat{j-capitulos}
% \else
% 	\input{j-capitulos}
% \fi

% RESULTADOS
% ------------------------------------------------------------------------------
\ifdefined\CAPresultados
	\newpage
	\chapter{Resultados}
	\ifdefined\parpordefecto
		\defaultparformat{m-resultados}
	\else
		\input{m-resultados}
	\fi
\fi

% DISCUSIÓN
% ------------------------------------------------------------------------------
\ifdefined\CAPdiscusion
	\newpage
	\chapter{Discusión}
	\ifdefined\parpordefecto
		\defaultparformat{n-discusion}
	\else
		\input{n-discusion}
	\fi
\fi

% CONCLUSIONES
% ------------------------------------------------------------------------------
\ifdefined\CAPconclusiones
	\newpage
	\chapter{Conclusiones}
	\ifdefined\parpordefecto
		\defaultparformat{o-conclusiones}
	\else
		\input{o-conclusiones}
	\fi
\fi

% RECOMENDACIONES
% ------------------------------------------------------------------------------
\ifdefined\CAPrecomendaciones
	\newpage
	\chapter{Recomendaciones}
	\ifdefined\parpordefecto
		\defaultparformat{p-recomendaciones}
	\else
		\input{p-recomendaciones}
	\fi
\fi

% BIBLIOGRAFÍA
% ------------------------------------------------------------------------------
\ifdefined\CAPbibliografia
	\newpage
	\cleardoublepage\phantomsection
	\chapter{\bibname}
	\printbibliography[heading=none]
\fi

% ANEXOS
% ------------------------------------------------------------------------------
\ifdefined\CAPanexos
	\newpage
	\chapter{Anexos}
	\ifdefined\parpordefecto
		\defaultparformat{r-anexos}
	\else
		\input{r-anexos}
	\fi
\fi

% APÉNDICE
% ------------------------------------------------------------------------------
\ifdefined\CAPapendice
	\newpage
	\chapter{Apéndice}
	\ifdefined\parpordefecto
		\defaultparformat{s-apendices}
	\else
		\input{s-apendices}
	\fi
\fi

\end{document}